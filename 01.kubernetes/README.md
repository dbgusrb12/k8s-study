Kubernetes
===

# k8s (kubernetes) 란?

쿠버네티스는 구글에 의해 설계된 컨테이너 오케스트레이션 (Container Orchestration) 이며,   
컨테이너화된 워크로드와 서비스를 관리하기 위한 이식성이 있고, 확장가능한 오픈소스 플랫폼이다.

구글이 2014년도에 쿠버네티스 프로젝트를 오픈소스화 했으며,   
k8s 라는 표기는 kubernetes 의 k 와 s 사이에 8글자가 있다는 뜻이라고 한다.

# 컨테이너 오케스트레이션 (Container Orchestration) 이란?

컨테이너 오케스트레이션은 복잡한 컨테이너 기반으로 배포가 되는 서비스들을 보다 효과적으로    
관리 하기 위한 도구를 의미한다.

컨테이너 자동 배포 뿐만 아닌, 컨테이너를 관리해주며, 클러스터 외부에 서비스를 노출 시키는 등   
많은 기능을 지원해준다.

도커가 나오고 난 뒤, 컨테이너 기반의 서비스들이 많아지면서 생기게 되는 문제점들을 해결하기 위해   
등장 했다.

## 컨테이너 기반 서비스의 문제점?

도커가 등장하고 나서, 컨테이너 기반의 쉽고 빠르고 효율적인 서비스 운영이 가능해졌다.   
하지만 모든 어플리케이션을 컨테이너화 시키다 보니, 점점 관리 해야 될 컨테이너가 증가하고,   
여전히 관리 해야 되는 포인트는 지속적으로 늘어나게 되었다.

### 배포의 문제점

컨테이너 기반의 서비스들을 배포할 때,  
해당 서버를 하나 하나 직접 접속하여 `docker stop`, `docker run` 을 해줘야 한다면   
컨테이너의 개수에 따라 작업량은 많아진다.

그리고 컨테이너가 많아질수록, 서버가 많아질수록 어떤 서버가 여유가 있는지 모르기 때문에   
모니터링 시스템 구축 등을 통해서 유휴 자원들을 관리 해야 하는 경우가 생길 수 있고,   
버전이 업데이트 됐을 때 롤백/롤아웃이 어려울 수 있다.

### 서비스 검색/노출 의 문제점

프록시 서버를 통해 내부의 서비스에 접근 할 때    
부하가 발생 하면 로드 밸런서등을 설정 하는 작업이 필요하고,   
서비스가 추가 되면 프록시 서버에 하나 하나 직접 추가 해야 하는 등   
번거로운 작업들이 많아진다.

특히, 마이크로 서비스의 경우 내부 서비스간의 통신이 굉장히 잦아   
많은 작업들을 해야되는 문제점이 있다.

### 서비스 장애/부하 모니터링의 문제점

장애가 발생한 컨테이너의 로그를 보고 직접 다시 실행하는 작업이 필요하다.   
때문에 예상치 못한 시간에 부하가 발생 할 경우 대응이 늦어 질 수 있다.

# 쿠버네티스의 특징

쿠버네티스가 컨테이너 오케스트레이션 시스템의 사실상 표준이 될 만큼 인기를 얻은 이유는   
여러가지가 있다.

## 선언적 API

쿠버네티스의 가장 큰 설계 원칙은 API 가 선언적이라는 것인데, 쿠버네티스를 사용하는   
사용자 입장에서 컨테이너가 어떤 상태이길 원하는지 선언을 해 놓으면, 쿠버네티스에서 지속적으로   
컨테이너의 상태를 확인하고, 설정한 상태가 아니라면 해당 상태에 맞게 맞춰준다.

## 워크로드 분리

분산 시스템을 개발 할 때 분산된 프로세스들이 잘 실행되는지, 장애가 생기면 어떤식으로 대응해 처리해야   
하는지 등의 시스템 안정성에 관한 고민을 해야하는데,   
쿠버네티스는 운영체제처럼 분산된 프로세스의 관리를 추상화하는 레이어가 되므로 시스템 운영에 관한   
고민들을 덜어준다.

## 손쉬운 접근성

쿠버네티스는 어디서나 실행 가능하다는 장점이 있다.

개인 컴퓨터나 여러 대의 서버, 퍼블릭한 클라우드에서도 설치만 해서 사용해 볼 수 있고,   
간단한 테스트의 경우 웹에서도 사용 할 수 있기 때문에 처음 쿠버네티스를 접하려는 사람에게 있어   
접근성이 굉장히 쉽다.

## 커뮤니티

쿠버네티스를 사용하다 이슈가 생겼을 때 도움을 얻을 수 있는 커뮤니티가 굉장히 활성화 되어 있다.

대표적인 곳은 
- [쿠버네티스 공식 깃허브](https://github.com/kubernetes)
- [쿠버네티스 공식 슬랙 채널](http://slack.k8s.io/)
- [페이스북 그룹](https://www.facebook.com/groups/k8skr)

등이 있다.

> 웹문서
> - [쿠버네티스란 무엇인가?](https://kubernetes.io/ko/docs/concepts/overview/what-is-kubernetes/)
> - [[IT트렌드] 컨테이너 오케스트레이션 (Container Orchestration)](http://www.mantech.co.kr/container_orchestration/)
> - [Kubernetes - 컨테이너 오케스트레이션 (Container Orchestration) 이란?](https://velog.io/@modolee/kubernetes-newbie-guide-01)